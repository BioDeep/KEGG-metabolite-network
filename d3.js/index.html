<!DOCTYPE html>
<html>

<head>
	<script type="text/javascript" src="/javascript/vendor/d3.min.js"></script>
	<script type="text/javascript" src="/javascript/vendor/jquery-1.10.1.min.js"></script>
	<script type="text/javascript" src="/javascript/vendor/custom.modernizr.js"></script>
	<script type="text/javascript" src="/javascript/vendor/foundation.min.js"></script>

	<link rel="stylesheet" href="css/foundation.min.css" />
	<link rel="stylesheet" href="css/style.css" />
	<link rel="stylesheet" href="css/general_enclosed_foundicons.css">
</head>

<body>
	<div class="row">
		<div id="chart">
		</div>
	</div>

	<a id="download-invoker" href="#">Save as png</a>

	<script type="text/javascript" src="/javascript/linq.js"></script>
	<script type="text/javascript" src="/javascript/svg.js"></script>
	<script type="text/javascript" src="/javascript/KEGG_canvas.js"></script>

	<script type="text/javascript">
		// 测试当前的浏览器是否支持HTML5的高级特性
		if (SvgUtils.hasSVG2Feature()) {
			$.get("./graph.json", g => {
				var viz = new KEGG_canvas(g, {
					charge: -200,
					linkDistance: 30
				});
				viz.attachSaveAsPng("#download-invoker");
			})
		} else {
			alert("请使用最新版本的Google Chrome浏览器！");
		}
	</script>
</body>

</html>